{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/calculator.service\";\nimport * as i2 from \"@angular/forms\";\nexport class CalculatorComponent {\n  constructor(Service, builder) {\n    this.Service = Service;\n    this.builder = builder;\n    this.input1 = '';\n    this.input2 = '';\n    this.result = '';\n    this.model = {};\n    this.error = false;\n  }\n  //ngOnInit(): void {\n  //  this.form = this.builder.group({});\n  //}\n  pressNum(num) {\n    //Do Not Allow . more than once\n    if (num == \".\") {\n      if (this.input1 != \"\") {\n        const lastNum = this.getLastOperand();\n        console.log(lastNum.lastIndexOf(\".\"));\n        if (lastNum.lastIndexOf(\".\") >= 0) return;\n      }\n    }\n    //Do Not Allow 0 at beginning. \n    //Javascript will throw Octal literals are not allowed in strict mode.\n    if (num == \"0\") {\n      if (this.input1 == \"\") {\n        return;\n      }\n      const PrevKey = this.input1[this.input1.length - 1];\n      if (PrevKey === '/' || PrevKey === '*' || PrevKey === '-' || PrevKey === '+') {\n        return;\n      }\n    }\n    this.input1 = this.input1 + num;\n    this.calcAnswer();\n  }\n  getLastOperand() {\n    let pos;\n    console.log(this.input1);\n    pos = this.input1.toString().lastIndexOf(\"+\");\n    if (this.input1.toString().lastIndexOf(\"-\") > pos) pos = this.input1.lastIndexOf(\"-\");\n    if (this.input1.toString().lastIndexOf(\"*\") > pos) pos = this.input1.lastIndexOf(\"*\");\n    if (this.input1.toString().lastIndexOf(\"/\") > pos) pos = this.input1.lastIndexOf(\"/\");\n    console.log('Last ' + this.input1.substr(pos + 1));\n    return this.input1.substr(pos + 1);\n  }\n  pressOperator(op) {\n    //Do not allow operators more than once\n    const lastKey = this.input1[this.input1.length - 1];\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+') {\n      return;\n    }\n    this.input1 = this.input1 + op;\n    this.calcAnswer();\n  }\n  clear() {\n    if (this.input1 != \"\") {\n      this.input1 = this.input1.substr(0, this.input1.length - 1);\n    }\n  }\n  allClear() {\n    this.result = '';\n    this.input1 = '';\n    this.input2 = '';\n  }\n  calcAnswer() {\n    let formula = this.input1;\n    let lastKey = formula[formula.length - 1];\n    if (lastKey === '.') {\n      formula = formula.substr(0, formula.length - 1);\n    }\n    lastKey = formula[formula.length - 1];\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+' || lastKey === '.') {\n      formula = formula.substr(0, formula.length - 1);\n      if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+') {\n        this.model.operation = lastKey;\n        console.log(\"Operation \" + this.model.operation);\n        this.input2 = '';\n      }\n    }\n    if (this.model.operation === '/' || this.model.operation === '*' || this.model.operation === '-' || this.model.operation === '+') {\n      this.model.value2 = +formula;\n    } else {\n      this.model.value1 = +this.input1;\n    }\n    console.log(\"Formula \" + formula);\n    console.log(\"input1 \" + this.input1);\n    console.log(\"input2 \" + this.input2);\n    console.log(\"Operation \" + this.model.operation);\n    console.log(\"Value1 \" + this.model.value1);\n    console.log(\"Value2 \" + this.model.value2);\n    console.log(\"Ret \" + this.model.result);\n    this.onSubmit(); // eval(formula);;\n  }\n\n  onSubmit() {\n    //if (this.form.valid) {\n    const calc = Object.assign({}, this.model);\n    this.Service.Calculate(calc).subscribe(response => {\n      this.model = calc;\n      this.result = response.toString();\n      this.error = false;\n    }, error => {\n      console.error(error.message);\n      this.error = true;\n    });\n    //  }\n  }\n\n  getAnswer() {\n    this.calcAnswer();\n    this.input1 = this.result;\n    if (this.input1 == \"0\") this.input1 = \"\";\n  }\n}\nCalculatorComponent.ɵfac = function CalculatorComponent_Factory(t) {\n  return new (t || CalculatorComponent)(i0.ɵɵdirectiveInject(i1.Service), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\nCalculatorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CalculatorComponent,\n  selectors: [[\"ng-model\"]],\n  decls: 56,\n  vars: 3,\n  consts: [[\"id\", \"tableLabel\"], [1, \"container-fluid\"], [1, \"jumbotron\", \"col-sm-4\", \"p-2\", \"m-0\", \"bg-inverse\"], [1, \"input-group\", \"input-group-sm\", \"col-sm-12\", \"m-0\", \"p-0\"], [\"type\", \"text\", 1, \"col-sm-12\", \"form-control\", \"text-lg-right\"], [\"type\", \"text\", 1, \"form-control\", \"text-sm-right\"], [1, \"col-sm-12\", \"p-1\", \"m-0\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", \"col-sm-6\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-warning\", \"col-sm-3\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", \"col-sm-3\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-lg\", \"btn-outline-secondary\", \"col-sm-3\", \"p-1\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-lg\", \"btn-secondary\", \"col-sm-3\", \"p-1\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-lg\", \"btn-success\", \"col-sm-6\", \"p-1\", 3, \"click\"]],\n  template: function CalculatorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Calculator\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2);\n      i0.ɵɵtext(4, \" Displays the User Input \");\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4);\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 3)(9, \"div\", 4);\n      i0.ɵɵtext(10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtext(11, \" Displays the Results \");\n      i0.ɵɵelementStart(12, \"div\", 3)(13, \"div\", 5);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 6)(16, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_16_listener() {\n        return ctx.allClear();\n      });\n      i0.ɵɵtext(17, \"C\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_18_listener() {\n        return ctx.clear();\n      });\n      i0.ɵɵtext(19, \"<\\u2574\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_20_listener() {\n        return ctx.pressOperator(\"/\");\n      });\n      i0.ɵɵtext(21, \"/\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 6)(23, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_23_listener() {\n        return ctx.pressNum(\"7\");\n      });\n      i0.ɵɵtext(24, \"7\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_25_listener() {\n        return ctx.pressNum(\"8\");\n      });\n      i0.ɵɵtext(26, \"8\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_27_listener() {\n        return ctx.pressNum(\"9\");\n      });\n      i0.ɵɵtext(28, \"9\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_29_listener() {\n        return ctx.pressOperator(\"*\");\n      });\n      i0.ɵɵtext(30, \"*\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"div\", 6)(32, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_32_listener() {\n        return ctx.pressNum(\"4\");\n      });\n      i0.ɵɵtext(33, \"4\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_34_listener() {\n        return ctx.pressNum(\"5\");\n      });\n      i0.ɵɵtext(35, \"5\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_36_listener() {\n        return ctx.pressNum(\"6\");\n      });\n      i0.ɵɵtext(37, \"6\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_38_listener() {\n        return ctx.pressOperator(\"-\");\n      });\n      i0.ɵɵtext(39, \"-\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(40, \"div\", 6)(41, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_41_listener() {\n        return ctx.pressNum(\"1\");\n      });\n      i0.ɵɵtext(42, \"1\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_43_listener() {\n        return ctx.pressNum(\"2\");\n      });\n      i0.ɵɵtext(44, \"2\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_45_listener() {\n        return ctx.pressNum(\"3\");\n      });\n      i0.ɵɵtext(46, \"3\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"button\", 11);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_47_listener() {\n        return ctx.pressOperator(\"+\");\n      });\n      i0.ɵɵtext(48, \"+\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(49, \"div\", 6)(50, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_50_listener() {\n        return ctx.pressNum(\".\");\n      });\n      i0.ɵɵtext(51, \".\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(52, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_52_listener() {\n        return ctx.pressNum(\"0\");\n      });\n      i0.ɵɵtext(53, \"0\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function CalculatorComponent_Template_button_click_54_listener() {\n        return ctx.getAnswer();\n      });\n      i0.ɵɵtext(55, \"=\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.input1);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.input2);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.result);\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["CalculatorComponent","constructor","Service","builder","pressNum","num","input1","lastNum","getLastOperand","console","log","lastIndexOf","PrevKey","length","calcAnswer","pos","toString","substr","pressOperator","op","lastKey","clear","allClear","result","input2","formula","model","operation","value2","value1","onSubmit","calc","Object","assign","Calculate","subscribe","response","error","message","getAnswer","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\Frank Coelho\\OneDrive\\Test\\CalculatorTest\\CalculatorTest\\CalculatorTest.Web\\ClientApp\\src\\app\\calculator\\calculator.component.ts","C:\\Users\\Frank Coelho\\OneDrive\\Test\\CalculatorTest\\CalculatorTest\\CalculatorTest.Web\\ClientApp\\src\\app\\calculator\\calculator.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Form, NgForm } from \"@angular/forms\";\r\nimport { Model } from '../model/calculator-view-model';\r\nimport { Service } from \"../services/calculator.service\";\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'ng-model',\r\n  templateUrl: './calculator.component.html',\r\n  styleUrls: ['./calculator.component.css']\r\n})\r\nexport class CalculatorComponent  {\r\n\r\n  input1: string = '';\r\n  input2: string = '';\r\n  result: string = '';\r\n  model = {} as Model;\r\n  error: boolean = false;\r\n\r\n  constructor(private Service: Service, private builder: FormBuilder) { }\r\n\r\n  //ngOnInit(): void {\r\n  //  this.form = this.builder.group({});\r\n  //}\r\n\r\n  pressNum(num: string) {\r\n\r\n    //Do Not Allow . more than once\r\n    if (num == \".\") {\r\n      if (this.input1 != \"\") {\r\n\r\n        const lastNum = this.getLastOperand()\r\n        console.log(lastNum.lastIndexOf(\".\"))\r\n        if (lastNum.lastIndexOf(\".\") >= 0) return;\r\n      }\r\n    }\r\n\r\n    //Do Not Allow 0 at beginning. \r\n    //Javascript will throw Octal literals are not allowed in strict mode.\r\n    if (num == \"0\") {\r\n      if (this.input1 == \"\") {\r\n        return;\r\n      }\r\n      const PrevKey = this.input1[this.input1.length - 1];\r\n      if (PrevKey === '/' || PrevKey === '*' || PrevKey === '-' || PrevKey === '+') {\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.input1 = this.input1 + num\r\n    this.calcAnswer();\r\n  }\r\n\r\n\r\n  getLastOperand() {\r\n    let pos: number;\r\n    console.log(this.input1)\r\n    pos = this.input1.toString().lastIndexOf(\"+\")\r\n    if (this.input1.toString().lastIndexOf(\"-\") > pos) pos = this.input1.lastIndexOf(\"-\")\r\n    if (this.input1.toString().lastIndexOf(\"*\") > pos) pos = this.input1.lastIndexOf(\"*\")\r\n    if (this.input1.toString().lastIndexOf(\"/\") > pos) pos = this.input1.lastIndexOf(\"/\")\r\n    console.log('Last ' + this.input1.substr(pos + 1))\r\n    return this.input1.substr(pos + 1)\r\n  }\r\n\r\n  pressOperator(op: string) {\r\n\r\n    //Do not allow operators more than once\r\n    const lastKey = this.input1[this.input1.length - 1];\r\n\r\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+') {\r\n      return;\r\n    }\r\n\r\n    this.input1 = this.input1 + op\r\n    this.calcAnswer();\r\n  }\r\n\r\n  clear() {\r\n    if (this.input1 != \"\") {\r\n      this.input1 = this.input1.substr(0, this.input1.length - 1)\r\n    }\r\n  }\r\n\r\n  allClear() {\r\n    this.result = '';\r\n    this.input1 = '';\r\n    this.input2 = '';\r\n  }\r\n\r\n  calcAnswer() {\r\n    let formula = this.input1;\r\n\r\n    let lastKey = formula[formula.length - 1];\r\n\r\n    if (lastKey === '.') {\r\n      formula = formula.substr(0, formula.length - 1);\r\n    }\r\n\r\n    lastKey = formula[formula.length - 1];\r\n\r\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+' || lastKey === '.') {\r\n      formula = formula.substr(0, formula.length - 1);\r\n\r\n      if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+') {\r\n        this.model.operation = lastKey;\r\n        console.log(\"Operation \" + this.model.operation);\r\n        this.input2 = '';\r\n      }\r\n    }\r\n\r\n    if (this.model.operation === '/' || this.model.operation === '*' || this.model.operation === '-' || this.model.operation === '+') {\r\n      this.model.value2 = +formula;\r\n    }\r\n    else {\r\n      this.model.value1 = +this.input1;\r\n    }\r\n\r\n    console.log(\"Formula \" + formula);\r\n    console.log(\"input1 \" + this.input1);\r\n    console.log(\"input2 \" + this.input2);\r\n    console.log(\"Operation \" + this.model.operation);\r\n    console.log(\"Value1 \" + this.model.value1);\r\n    console.log(\"Value2 \" + this.model.value2);\r\n    console.log(\"Ret \" + this.model.result);\r\n\r\n    this.onSubmit(); // eval(formula);;\r\n  }\r\n\r\n  onSubmit() {\r\n    //if (this.form.valid) {\r\n    const calc = Object.assign({}, this.model);\r\n    this.Service.Calculate(calc).subscribe(\r\n      response => {\r\n        this.model = calc;\r\n        this.result = response.toString();\r\n        this.error = false;\r\n      },\r\n      error => {\r\n        console.error(error.message);\r\n        this.error = true;\r\n      }\r\n    );\r\n    //  }\r\n  }\r\n\r\n  getAnswer() {\r\n    this.calcAnswer();\r\n    this.input1 = this.result;\r\n    if (this.input1 == \"0\") this.input1 = \"\";\r\n  }\r\n\r\n}\r\n","<h1 id=\"tableLabel\">Calculator</h1>\r\n\r\n\r\n<div class=\"container-fluid\">\r\n\r\n    <div class=\"jumbotron col-sm-4 p-2 m-0 bg-inverse\">\r\n\r\n        Displays the User Input\r\n        <div class=\"input-group input-group-sm col-sm-12 m-0 p-0\">\r\n            <div class=\"col-sm-12 form-control text-lg-right\" type=\"text\">{{input1}}</div>\r\n        </div>\r\n        <div class=\"input-group input-group-sm col-sm-12 m-0 p-0\">\r\n            <div class=\"col-sm-12 form-control text-lg-right\" type=\"text\">{{input2}}</div>\r\n        </div>\r\n\r\n        Displays the Results\r\n        <div class=\"input-group input-group-sm col-sm-12 m-0 p-0\">\r\n            <div class=\"form-control text-sm-right\" type=\"text\">{{result}}</div>\r\n        </div>\r\n\r\n        <div class=\"col-sm-12 p-1 m-0\">\r\n            <button class=\"btn btn-info col-sm-6\" type=\"button\" (click)=\"allClear()\">C</button>\r\n            <button class=\"btn btn-warning col-sm-3\" type=\"button\" (click)=\"clear()\">&#60;&#9588;</button>\r\n            <button class=\"btn btn-secondary col-sm-3\" type=\"button\" (click)=\"pressOperator('/')\">/</button>\r\n        </div>\r\n\r\n        <div class=\"col-sm-12 p-1 m-0\">\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('7')\">7</button>\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('8')\">8</button>\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('9')\">9</button>\r\n            <button class=\"btn btn-lg btn-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressOperator('*')\">*</button>\r\n        </div>\r\n        <div class=\"col-sm-12 p-1 m-0\">\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('4')\">4</button>\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('5')\">5</button>\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('6')\">6</button>\r\n            <button class=\"btn btn-lg btn-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressOperator('-')\">-</button>\r\n        </div>\r\n        <div class=\"col-sm-12 p-1 m-0\">\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('1')\">1</button>\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('2')\">2</button>\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('3')\">3</button>\r\n            <button class=\"btn btn-lg btn-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressOperator('+')\">+</button>\r\n        </div>\r\n        <div class=\"col-sm-12 p-1 m-0\">\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('.')\">.</button>\r\n            <button class=\"btn btn-lg btn-outline-secondary col-sm-3 p-1\" type=\"button\" (click)=\"pressNum('0')\">0</button>\r\n            <button class=\"btn btn-lg btn-success col-sm-6 p-1\" type=\"button\" (click)=\"getAnswer()\">=</button>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}