{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet CalculatorComponent = class CalculatorComponent {\n  constructor(Service) {\n    this.Service = Service;\n    this.input1 = '';\n    this.input2 = '';\n    this.result = '';\n    this.model = {};\n    this.error = false;\n  }\n  ngOnInit() {}\n  pressNum(num) {\n    //Do Not Allow . more than once\n    if (num == \".\") {\n      if (this.input1 != \"\") {\n        const lastNum = this.getLastOperand();\n        console.log(lastNum.lastIndexOf(\".\"));\n        if (lastNum.lastIndexOf(\".\") >= 0) return;\n      }\n    }\n    //Do Not Allow 0 at beginning. \n    //Javascript will throw Octal literals are not allowed in strict mode.\n    if (num == \"0\") {\n      if (this.input1 == \"\") {\n        return;\n      }\n      const PrevKey = this.input1[this.input1.length - 1];\n      if (PrevKey === '/' || PrevKey === '*' || PrevKey === '-' || PrevKey === '+') {\n        return;\n      }\n    }\n    this.input1 = this.input1 + num;\n    this.pressNum1(num);\n  }\n  pressNum1(num) {\n    //Do Not Allow . more than once\n    if (num == \".\") {\n      if (this.input2 != \"\") {\n        const lastNum = this.getLastOperand1();\n        console.log(lastNum.lastIndexOf(\".\"));\n        if (lastNum.lastIndexOf(\".\") >= 0) return;\n      }\n    }\n    //Do Not Allow 0 at beginning. \n    //Javascript will throw Octal literals are not allowed in strict mode.\n    if (num == \"0\") {\n      if (this.input2 == \"\") {\n        return;\n      }\n      const PrevKey = this.input2[this.input2.length - 1];\n      if (PrevKey === '/' || PrevKey === '*' || PrevKey === '-' || PrevKey === '+') {\n        return;\n      }\n    }\n    this.input2 = this.input2 + num;\n    this.calcAnswer();\n  }\n  getLastOperand() {\n    let pos;\n    console.log(this.input1);\n    pos = this.input1.toString().lastIndexOf(\"+\");\n    if (this.input1.toString().lastIndexOf(\"-\") > pos) pos = this.input1.lastIndexOf(\"-\");\n    if (this.input1.toString().lastIndexOf(\"*\") > pos) pos = this.input1.lastIndexOf(\"*\");\n    if (this.input1.toString().lastIndexOf(\"/\") > pos) pos = this.input1.lastIndexOf(\"/\");\n    console.log('Last ' + this.input1.substr(pos + 1));\n    return this.input1.substr(pos + 1);\n  }\n  getLastOperand1() {\n    let pos;\n    console.log(this.input2);\n    pos = this.input1.toString().lastIndexOf(\"+\");\n    if (this.input2.toString().lastIndexOf(\"-\") > pos) pos = this.input2.lastIndexOf(\"-\");\n    if (this.input2.toString().lastIndexOf(\"*\") > pos) pos = this.input2.lastIndexOf(\"*\");\n    if (this.input12.toString().lastIndexOf(\"/\") > pos) pos = this.input2.lastIndexOf(\"/\");\n    console.log('Last ' + this.input1.substr(pos + 1));\n    return this.input2.substr(pos + 1);\n  }\n  pressOperator(op) {\n    //Do not allow operators more than once\n    const lastKey = this.input1[this.input1.length - 1];\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+') {\n      return;\n    }\n    this.input1 = this.input1 + op;\n    this.calcAnswer();\n  }\n  clear() {\n    if (this.input1 != \"\") {\n      this.input1 = this.input1.substr(0, this.input1.length - 1);\n    }\n  }\n  allClear() {\n    this.result = '';\n    this.input1 = '';\n    this.input2 = '';\n  }\n  calcAnswer() {\n    let formula = this.input1;\n    let lastKey = formula[formula.length - 1];\n    if (lastKey === '.') {\n      formula = formula.substr(0, formula.length - 1);\n    }\n    lastKey = formula[formula.length - 1];\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+' || lastKey === '.') {\n      formula = formula.substr(0, formula.length - 1);\n      if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+') {\n        this.model.operation = lastKey;\n        console.log(\"Operation \" + this.model.operation);\n        this.input2 = '';\n      }\n    }\n    if (this.model.operation === '/' || this.model.operation === '*' || this.model.operation === '-' || this.model.operation === '+') {\n      this.model.value2 = +formula;\n    } else {\n      this.model.value1 = +this.input1;\n    }\n    console.log(\"Formula \" + formula);\n    console.log(\"input1 \" + this.input1);\n    console.log(\"input2 \" + this.input2);\n    console.log(\"Operation \" + this.model.operation);\n    console.log(\"Value1 \" + this.model.value1);\n    console.log(\"Value2 \" + this.model.value2);\n    console.log(\"Ret \" + this.model.result);\n    this.onSubmit(); // eval(formula);;\n  }\n\n  onSubmit(form) {\n    this.Service.Calculate(this.model).subscribe(() => {\n      this.cleanForm(form);\n    });\n  }\n  // clear form\n  cleanForm(form) {\n    form.resetForm();\n    this.model = {};\n  }\n  getAnswer() {\n    this.calcAnswer();\n    this.input1 = this.result;\n    if (this.input1 == \"0\") this.input1 = \"\";\n  }\n};\nCalculatorComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: '../calculator.component.html',\n  styleUrls: ['../calculator.component.scss']\n})], CalculatorComponent);\nexport { CalculatorComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAY1C,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAQ9BC,YAAoBC,OAAgB;IAAhB,YAAO,GAAPA,OAAO;IAN3B,WAAM,GAAW,EAAE;IACnB,WAAM,GAAW,EAAE;IACnB,WAAM,GAAW,EAAE;IACnB,UAAK,GAAG,EAAW;IACnB,UAAK,GAAY,KAAK;EAEkB;EAExCC,QAAQ,IAER;EAEAC,QAAQ,CAACC,GAAW;IAElB;IACA,IAAIA,GAAG,IAAI,GAAG,EAAE;MACd,IAAI,IAAI,CAACC,MAAM,IAAI,EAAE,EAAE;QAErB,MAAMC,OAAO,GAAG,IAAI,CAACC,cAAc,EAAE;QACrCC,OAAO,CAACC,GAAG,CAACH,OAAO,CAACI,WAAW,CAAC,GAAG,CAAC,CAAC;QACrC,IAAIJ,OAAO,CAACI,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;;;IAIvC;IACA;IACA,IAAIN,GAAG,IAAI,GAAG,EAAE;MACd,IAAI,IAAI,CAACC,MAAM,IAAI,EAAE,EAAE;QACrB;;MAEF,MAAMM,OAAO,GAAG,IAAI,CAACN,MAAM,CAAC,IAAI,CAACA,MAAM,CAACO,MAAM,GAAG,CAAC,CAAC;MACnD,IAAID,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,EAAE;QAC5E;;;IAIJ,IAAI,CAACN,MAAM,GAAG,IAAI,CAACA,MAAM,GAAGD,GAAG;IAC/B,IAAI,CAACS,SAAS,CAACT,GAAG,CAAC;EACrB;EAEAS,SAAS,CAACT,GAAW;IAEnB;IACA,IAAIA,GAAG,IAAI,GAAG,EAAE;MACd,IAAI,IAAI,CAACU,MAAM,IAAI,EAAE,EAAE;QAErB,MAAMR,OAAO,GAAG,IAAI,CAACS,eAAe,EAAE;QACtCP,OAAO,CAACC,GAAG,CAACH,OAAO,CAACI,WAAW,CAAC,GAAG,CAAC,CAAC;QACrC,IAAIJ,OAAO,CAACI,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;;;IAIvC;IACA;IACA,IAAIN,GAAG,IAAI,GAAG,EAAE;MACd,IAAI,IAAI,CAACU,MAAM,IAAI,EAAE,EAAE;QACrB;;MAEF,MAAMH,OAAO,GAAG,IAAI,CAACG,MAAM,CAAC,IAAI,CAACA,MAAM,CAACF,MAAM,GAAG,CAAC,CAAC;MACnD,IAAID,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,EAAE;QAC5E;;;IAIJ,IAAI,CAACG,MAAM,GAAG,IAAI,CAACA,MAAM,GAAGV,GAAG;IAC/B,IAAI,CAACY,UAAU,EAAE;EACnB;EAGAT,cAAc;IACZ,IAAIU,GAAW;IACfT,OAAO,CAACC,GAAG,CAAC,IAAI,CAACJ,MAAM,CAAC;IACxBY,GAAG,GAAG,IAAI,CAACZ,MAAM,CAACa,QAAQ,EAAE,CAACR,WAAW,CAAC,GAAG,CAAC;IAC7C,IAAI,IAAI,CAACL,MAAM,CAACa,QAAQ,EAAE,CAACR,WAAW,CAAC,GAAG,CAAC,GAAGO,GAAG,EAAEA,GAAG,GAAG,IAAI,CAACZ,MAAM,CAACK,WAAW,CAAC,GAAG,CAAC;IACrF,IAAI,IAAI,CAACL,MAAM,CAACa,QAAQ,EAAE,CAACR,WAAW,CAAC,GAAG,CAAC,GAAGO,GAAG,EAAEA,GAAG,GAAG,IAAI,CAACZ,MAAM,CAACK,WAAW,CAAC,GAAG,CAAC;IACrF,IAAI,IAAI,CAACL,MAAM,CAACa,QAAQ,EAAE,CAACR,WAAW,CAAC,GAAG,CAAC,GAAGO,GAAG,EAAEA,GAAG,GAAG,IAAI,CAACZ,MAAM,CAACK,WAAW,CAAC,GAAG,CAAC;IACrFF,OAAO,CAACC,GAAG,CAAC,OAAO,GAAG,IAAI,CAACJ,MAAM,CAACc,MAAM,CAACF,GAAG,GAAG,CAAC,CAAC,CAAC;IAClD,OAAO,IAAI,CAACZ,MAAM,CAACc,MAAM,CAACF,GAAG,GAAG,CAAC,CAAC;EACpC;EAEAF,eAAe;IACb,IAAIE,GAAW;IACfT,OAAO,CAACC,GAAG,CAAC,IAAI,CAACK,MAAM,CAAC;IACxBG,GAAG,GAAG,IAAI,CAACZ,MAAM,CAACa,QAAQ,EAAE,CAACR,WAAW,CAAC,GAAG,CAAC;IAC7C,IAAI,IAAI,CAACI,MAAM,CAACI,QAAQ,EAAE,CAACR,WAAW,CAAC,GAAG,CAAC,GAAGO,GAAG,EAAEA,GAAG,GAAG,IAAI,CAACH,MAAM,CAACJ,WAAW,CAAC,GAAG,CAAC;IACrF,IAAI,IAAI,CAACI,MAAM,CAACI,QAAQ,EAAE,CAACR,WAAW,CAAC,GAAG,CAAC,GAAGO,GAAG,EAAEA,GAAG,GAAG,IAAI,CAACH,MAAM,CAACJ,WAAW,CAAC,GAAG,CAAC;IACrF,IAAI,IAAI,CAACU,OAAO,CAACF,QAAQ,EAAE,CAACR,WAAW,CAAC,GAAG,CAAC,GAAGO,GAAG,EAAEA,GAAG,GAAG,IAAI,CAACH,MAAM,CAACJ,WAAW,CAAC,GAAG,CAAC;IACtFF,OAAO,CAACC,GAAG,CAAC,OAAO,GAAG,IAAI,CAACJ,MAAM,CAACc,MAAM,CAACF,GAAG,GAAG,CAAC,CAAC,CAAC;IAClD,OAAO,IAAI,CAACH,MAAM,CAACK,MAAM,CAACF,GAAG,GAAG,CAAC,CAAC;EACpC;EAEAI,aAAa,CAACC,EAAU;IAEtB;IACA,MAAMC,OAAO,GAAG,IAAI,CAAClB,MAAM,CAAC,IAAI,CAACA,MAAM,CAACO,MAAM,GAAG,CAAC,CAAC;IAEnD,IAAIW,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,EAAE;MAC5E;;IAGF,IAAI,CAAClB,MAAM,GAAG,IAAI,CAACA,MAAM,GAAGiB,EAAE;IAC9B,IAAI,CAACN,UAAU,EAAE;EACnB;EAEAQ,KAAK;IACH,IAAI,IAAI,CAACnB,MAAM,IAAI,EAAE,EAAE;MACrB,IAAI,CAACA,MAAM,GAAG,IAAI,CAACA,MAAM,CAACc,MAAM,CAAC,CAAC,EAAE,IAAI,CAACd,MAAM,CAACO,MAAM,GAAG,CAAC,CAAC;;EAE/D;EAEAa,QAAQ;IACN,IAAI,CAACC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACrB,MAAM,GAAG,EAAE;IAChB,IAAI,CAACS,MAAM,GAAG,EAAE;EAClB;EAEAE,UAAU;IACR,IAAIW,OAAO,GAAG,IAAI,CAACtB,MAAM;IAEzB,IAAIkB,OAAO,GAAGI,OAAO,CAACA,OAAO,CAACf,MAAM,GAAG,CAAC,CAAC;IAEzC,IAAIW,OAAO,KAAK,GAAG,EAAE;MACnBI,OAAO,GAAGA,OAAO,CAACR,MAAM,CAAC,CAAC,EAAEQ,OAAO,CAACf,MAAM,GAAG,CAAC,CAAC;;IAGjDW,OAAO,GAAGI,OAAO,CAACA,OAAO,CAACf,MAAM,GAAG,CAAC,CAAC;IAErC,IAAIW,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,EAAE;MAC/FI,OAAO,GAAGA,OAAO,CAACR,MAAM,CAAC,CAAC,EAAEQ,OAAO,CAACf,MAAM,GAAG,CAAC,CAAC;MAE/C,IAAIW,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,IAAIA,OAAO,KAAK,GAAG,EAAE;QAC5E,IAAI,CAACK,KAAK,CAACC,SAAS,GAAGN,OAAO;QAC9Bf,OAAO,CAACC,GAAG,CAAC,YAAY,GAAG,IAAI,CAACmB,KAAK,CAACC,SAAS,CAAC;QAChD,IAAI,CAACf,MAAM,GAAG,EAAE;;;IAIpB,IAAI,IAAI,CAACc,KAAK,CAACC,SAAS,KAAK,GAAG,IAAI,IAAI,CAACD,KAAK,CAACC,SAAS,KAAK,GAAG,IAAI,IAAI,CAACD,KAAK,CAACC,SAAS,KAAK,GAAG,IAAI,IAAI,CAACD,KAAK,CAACC,SAAS,KAAK,GAAG,EAAE;MAChI,IAAI,CAACD,KAAK,CAACE,MAAM,GAAG,CAACH,OAAO;KAC7B,MACI;MACH,IAAI,CAACC,KAAK,CAACG,MAAM,GAAG,CAAC,IAAI,CAAC1B,MAAM;;IAGlCG,OAAO,CAACC,GAAG,CAAC,UAAU,GAAGkB,OAAO,CAAC;IACjCnB,OAAO,CAACC,GAAG,CAAC,SAAS,GAAG,IAAI,CAACJ,MAAM,CAAC;IACpCG,OAAO,CAACC,GAAG,CAAC,SAAS,GAAG,IAAI,CAACK,MAAM,CAAC;IACpCN,OAAO,CAACC,GAAG,CAAC,YAAY,GAAG,IAAI,CAACmB,KAAK,CAACC,SAAS,CAAC;IAChDrB,OAAO,CAACC,GAAG,CAAC,SAAS,GAAG,IAAI,CAACmB,KAAK,CAACG,MAAM,CAAC;IAC1CvB,OAAO,CAACC,GAAG,CAAC,SAAS,GAAG,IAAI,CAACmB,KAAK,CAACE,MAAM,CAAC;IAC1CtB,OAAO,CAACC,GAAG,CAAC,MAAM,GAAG,IAAI,CAACmB,KAAK,CAACF,MAAM,CAAC;IAEvC,IAAI,CAACM,QAAQ,EAAE,CAAC,CAAC;EACnB;;EAEAA,QAAQ,CAACC,IAAY;IACnB,IAAI,CAAChC,OAAO,CAACiC,SAAS,CAAC,IAAI,CAACN,KAAK,CAAC,CAACO,SAAS,CAAC,MAAK;MAChD,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;IACtB,CAAC,CAAC;EACJ;EAEA;EACAG,SAAS,CAACH,IAAY;IACpBA,IAAI,CAACI,SAAS,EAAE;IAChB,IAAI,CAACT,KAAK,GAAG,EAAW;EAC1B;EAGAU,SAAS;IACP,IAAI,CAACtB,UAAU,EAAE;IACjB,IAAI,CAACX,MAAM,GAAG,IAAI,CAACqB,MAAM;IACzB,IAAI,IAAI,CAACrB,MAAM,IAAI,GAAG,EAAE,IAAI,CAACA,MAAM,GAAG,EAAE;EAC1C;CAED;AAhLYN,mBAAmB,eAL/BD,SAAS,CAAC;EACTyC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,GACW1C,mBAAmB,CAgL/B;SAhLYA,mBAAmB","names":["Component","CalculatorComponent","constructor","Service","ngOnInit","pressNum","num","input1","lastNum","getLastOperand","console","log","lastIndexOf","PrevKey","length","pressNum1","input2","getLastOperand1","calcAnswer","pos","toString","substr","input12","pressOperator","op","lastKey","clear","allClear","result","formula","model","operation","value2","value1","onSubmit","form","Calculate","subscribe","cleanForm","resetForm","getAnswer","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Frank Coelho\\OneDrive\\Test\\CalculatorTest\\CalculatorTest\\CalculatorTest.Web\\ClientApp\\src\\app\\calculator\\calculator.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Form, NgForm } from \"@angular/forms\";\r\nimport { Model } from '../model/calculator-view-model';\r\nimport { Service } from \"../services/calculator.service\";\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { } from \"../services/calculator.service\";\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: '../calculator.component.html',\r\n  styleUrls: ['../calculator.component.scss']\r\n})\r\nexport class CalculatorComponent implements OnInit {\r\n\r\n  input1: string = '';\r\n  input2: string = '';\r\n  result: string = '';\r\n  model = {} as Model;\r\n  error: boolean = false;\r\n\r\n  constructor(private Service: Service) { }\r\n\r\n  ngOnInit(): void {\r\n    \r\n  }\r\n\r\n  pressNum(num: string) {\r\n\r\n    //Do Not Allow . more than once\r\n    if (num == \".\") {\r\n      if (this.input1 != \"\") {\r\n\r\n        const lastNum = this.getLastOperand()\r\n        console.log(lastNum.lastIndexOf(\".\"))\r\n        if (lastNum.lastIndexOf(\".\") >= 0) return;\r\n      }\r\n    }\r\n\r\n    //Do Not Allow 0 at beginning. \r\n    //Javascript will throw Octal literals are not allowed in strict mode.\r\n    if (num == \"0\") {\r\n      if (this.input1 == \"\") {\r\n        return;\r\n      }\r\n      const PrevKey = this.input1[this.input1.length - 1];\r\n      if (PrevKey === '/' || PrevKey === '*' || PrevKey === '-' || PrevKey === '+') {\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.input1 = this.input1 + num\r\n    this.pressNum1(num);\r\n  }\r\n\r\n  pressNum1(num: string) {\r\n\r\n    //Do Not Allow . more than once\r\n    if (num == \".\") {\r\n      if (this.input2 != \"\") {\r\n\r\n        const lastNum = this.getLastOperand1()\r\n        console.log(lastNum.lastIndexOf(\".\"))\r\n        if (lastNum.lastIndexOf(\".\") >= 0) return;\r\n      }\r\n    }\r\n\r\n    //Do Not Allow 0 at beginning. \r\n    //Javascript will throw Octal literals are not allowed in strict mode.\r\n    if (num == \"0\") {\r\n      if (this.input2 == \"\") {\r\n        return;\r\n      }\r\n      const PrevKey = this.input2[this.input2.length - 1];\r\n      if (PrevKey === '/' || PrevKey === '*' || PrevKey === '-' || PrevKey === '+') {\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.input2 = this.input2 + num\r\n    this.calcAnswer();\r\n  }\r\n\r\n\r\n  getLastOperand() {\r\n    let pos: number;\r\n    console.log(this.input1)\r\n    pos = this.input1.toString().lastIndexOf(\"+\")\r\n    if (this.input1.toString().lastIndexOf(\"-\") > pos) pos = this.input1.lastIndexOf(\"-\")\r\n    if (this.input1.toString().lastIndexOf(\"*\") > pos) pos = this.input1.lastIndexOf(\"*\")\r\n    if (this.input1.toString().lastIndexOf(\"/\") > pos) pos = this.input1.lastIndexOf(\"/\")\r\n    console.log('Last ' + this.input1.substr(pos + 1))\r\n    return this.input1.substr(pos + 1)\r\n  }\r\n\r\n  getLastOperand1() {\r\n    let pos: number;\r\n    console.log(this.input2)\r\n    pos = this.input1.toString().lastIndexOf(\"+\")\r\n    if (this.input2.toString().lastIndexOf(\"-\") > pos) pos = this.input2.lastIndexOf(\"-\")\r\n    if (this.input2.toString().lastIndexOf(\"*\") > pos) pos = this.input2.lastIndexOf(\"*\")\r\n    if (this.input12.toString().lastIndexOf(\"/\") > pos) pos = this.input2.lastIndexOf(\"/\")\r\n    console.log('Last ' + this.input1.substr(pos + 1))\r\n    return this.input2.substr(pos + 1)\r\n  }\r\n\r\n  pressOperator(op: string) {\r\n\r\n    //Do not allow operators more than once\r\n    const lastKey = this.input1[this.input1.length - 1];\r\n\r\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+') {\r\n      return;\r\n    }\r\n\r\n    this.input1 = this.input1 + op\r\n    this.calcAnswer();\r\n  }\r\n\r\n  clear() {\r\n    if (this.input1 != \"\") {\r\n      this.input1 = this.input1.substr(0, this.input1.length - 1)\r\n    }\r\n  }\r\n\r\n  allClear() {\r\n    this.result = '';\r\n    this.input1 = '';\r\n    this.input2 = '';\r\n  }\r\n\r\n  calcAnswer() {\r\n    let formula = this.input1;\r\n\r\n    let lastKey = formula[formula.length - 1];\r\n\r\n    if (lastKey === '.') {\r\n      formula = formula.substr(0, formula.length - 1);\r\n    }\r\n\r\n    lastKey = formula[formula.length - 1];\r\n\r\n    if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+' || lastKey === '.') {\r\n      formula = formula.substr(0, formula.length - 1);\r\n\r\n      if (lastKey === '/' || lastKey === '*' || lastKey === '-' || lastKey === '+') {\r\n        this.model.operation = lastKey;\r\n        console.log(\"Operation \" + this.model.operation);\r\n        this.input2 = '';\r\n      }\r\n    }\r\n\r\n    if (this.model.operation === '/' || this.model.operation === '*' || this.model.operation === '-' || this.model.operation === '+') {\r\n      this.model.value2 = +formula;\r\n    }\r\n    else {\r\n      this.model.value1 = +this.input1;\r\n    }\r\n\r\n    console.log(\"Formula \" + formula);\r\n    console.log(\"input1 \" + this.input1);\r\n    console.log(\"input2 \" + this.input2);\r\n    console.log(\"Operation \" + this.model.operation);\r\n    console.log(\"Value1 \" + this.model.value1);\r\n    console.log(\"Value2 \" + this.model.value2);\r\n    console.log(\"Ret \" + this.model.result);\r\n\r\n    this.onSubmit(); // eval(formula);;\r\n  }\r\n\r\n  onSubmit(form: NgForm) {\r\n    this.Service.Calculate(this.model).subscribe(() => {\r\n      this.cleanForm(form);\r\n    });\r\n  }\r\n\r\n  // clear form\r\n  cleanForm(form: NgForm) {\r\n    form.resetForm();\r\n    this.model = {} as Model;\r\n  }\r\n\r\n\r\n  getAnswer() {\r\n    this.calcAnswer();\r\n    this.input1 = this.result;\r\n    if (this.input1 == \"0\") this.input1 = \"\";\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}